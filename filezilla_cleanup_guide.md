# FileZilla 削除困難ディレクトリの対処法

## 🚨 現在の問題
- node_modulesパッケージディレクトリが削除できない
- `is-array-buffer`, `nodemailer` 等のディレクトリ
- SSH接続不可

## 🔧 解決方法

### 方法1: FileZilla設定変更
1. **FileZilla設定**
   - `編集` → `設定`
   - `転送` → `ファイル転送`
   - `同時転送数の上限` を `1` に設定
   - `タイムアウト` を `300秒` に延長

### 方法2: 段階的削除
1. **各ディレクトリに入る**
2. **Ctrl+A で全選択**
3. **Delete キー（一度に全て削除）**
4. **空になったディレクトリを削除**

### 方法3: 名前変更→削除
1. **ディレクトリ名を変更** (例: `is-array-buffer` → `delete-me`)
2. **変更後に削除を試行**

### 方法4: FTPクライアント変更
- **WinSCP** (Windows)
- **Cyberduck** (Mac/Windows)
- **Core FTP** (Windows)

## 🎯 削除対象ディレクトリ
```
/public_html/あ/
├── is-array-buffer/
├── is-async-function/
├── is-bigint/
├── is-boolean-object/
├── is-callable/
├── is-core-module/
├── is-data-view/
├── is-date-object/
├── is-finalizationregistry/
├── is-generator-function/
├── is-map/
├── is-number-object/
└── nodemailer/
```

## ⚡ 緊急対処
1. **サーバー管理者に連絡**
   - 「不要なnode_modulesディレクトリの削除をお願いします」
   - 「/public_html/あ/ ディレクトリ全体の削除」

2. **一時的に無視**
   - 現在のWebサイト動作には影響なし
   - 403エラーとは無関係

## 📞 連絡テンプレート
```
件名: サーバー上の不要ディレクトリ削除依頼

内容:
/public_html/あ/ ディレクトリ内に
node_modulesパッケージが誤ってアップロードされ、
FileZillaでは削除できません。

以下のコマンドで削除をお願いします：
rm -rf /public_html/あ/

よろしくお願いします。
``` 

## 🔧 FileZilla設定

### 隠しファイルを表示する方法
1. **メニューから：**
   - `サーバー` → `隠しファイルを強制表示` をチェック
   - または `表示` → `隠しファイルを表示` をチェック

2. **設定から：**
   - `編集` → `設定` → `転送` → `隠しファイルを表示` をチェック

3. **確認方法：**
   - `.htaccess`ファイルが表示されることを確認
   - ファイル名が薄い色で表示される場合があります

## 🚀 デプロイ手順

### 1. ローカルでビルド
```bash
npm run build:static
```

### 2. FileZillaでアップロード
- `out`ディレクトリの**全内容**を選択
- `.htaccess`ファイルが含まれていることを確認
- 本番サーバーの`/var/www/html/imagelab/`にアップロード

### 3. 権限確認
- アップロード後、サーバーで権限を確認
- 必要に応じて権限を修正

## ⚠️ 注意事項

- `.htaccess`は隠しファイルなので、設定を変更しないと見えません
- ファイルが存在しないと403エラーが発生します
- 以前動いていたのは、サーバーの設定が異なっていたためです

## 🔍 トラブルシューティング

### 403エラーが続く場合
1. `.htaccess`ファイルがアップロードされているか確認
2. ファイル権限が正しいか確認（644）
3. サーバーのApache設定を確認

### ファイルが見えない場合
1. FileZillaの隠しファイル表示設定を確認
2. `ls -la`コマンドで存在を確認
3. ファイル名の先頭にドット(.)があることを確認 